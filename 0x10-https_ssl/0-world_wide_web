#!/usr/bin/env bash
# script display ifromation about domains

print_info()
{
	DOMAN="$1"
	SUB_DOMAN="$2"
	info="$(dig "$SUB_DOMAN"."$DOMAN" +noall +answer | awk 'NR==1{print $5}')"
	record="$(dig "$SUB_DOMAN"."$DOMAN" +noall +answer | awk 'NR==1{print $4}')"
	echo "The subdomain $SUB_DOMAN is a $record record and points to $info"
}

if [ -z "$2" ]; then
	for sub in "www" "lb-01" "web-01" "web-02"; do
		print_info "$1" "$sub"
	done
else
	print_info "$1" "$2"
fi
